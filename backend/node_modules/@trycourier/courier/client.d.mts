import type { RequestInit, RequestInfo } from "./internal/builtin-types.mjs";
import type { PromiseOrValue, MergedRequestInit, FinalizedRequestInit } from "./internal/types.mjs";
export type { Logger, LogLevel } from "./internal/utils/log.mjs";
import * as Opts from "./internal/request-options.mjs";
import * as Errors from "./core/error.mjs";
import * as Uploads from "./core/uploads.mjs";
import * as API from "./resources/index.mjs";
import { APIPromise } from "./core/api-promise.mjs";
import { Audience, AudienceListMembersParams, AudienceListMembersResponse, AudienceListParams, AudienceListResponse, AudienceUpdateParams, AudienceUpdateResponse, Audiences, Filter, FilterConfig } from "./resources/audiences.mjs";
import { AuditEvent, AuditEventListParams, AuditEventListResponse, AuditEvents } from "./resources/audit-events.mjs";
import { Auth, AuthIssueTokenParams, AuthIssueTokenResponse } from "./resources/auth.mjs";
import { Brand, BrandColors, BrandCreateParams, BrandListParams, BrandListResponse, BrandSettings, BrandSettingsEmail, BrandSettingsInApp, BrandSnippet, BrandSnippets, BrandTemplate, BrandUpdateParams, Brands, EmailFooter, EmailHead, EmailHeader, Icons, Logo, WidgetBackground } from "./resources/brands.mjs";
import { Bulk, BulkAddUsersParams, BulkCreateJobParams, BulkCreateJobResponse, BulkListUsersParams, BulkListUsersResponse, BulkRetrieveJobResponse, InboundBulkMessage, InboundBulkMessageUser } from "./resources/bulk.mjs";
import { Inbound, InboundTrackEventParams, InboundTrackEventResponse } from "./resources/inbound.mjs";
import { MessageContentResponse, MessageDetails, MessageHistoryParams, MessageHistoryResponse, MessageListParams, MessageListResponse, MessageRetrieveResponse, Messages } from "./resources/messages.mjs";
import { Requests } from "./resources/requests.mjs";
import { Send, SendMessageParams, SendMessageResponse } from "./resources/send.mjs";
import { TranslationRetrieveParams, TranslationRetrieveResponse, TranslationUpdateParams, Translations } from "./resources/translations.mjs";
import { AutomationInvokeResponse, Automations } from "./resources/automations/automations.mjs";
import { ListListParams, ListListResponse, ListRestoreParams, ListUpdateParams, Lists, PutSubscriptionsRecipient, SubscriptionList } from "./resources/lists/lists.mjs";
import { BaseCheck, Check, NotificationGetContent, NotificationListParams, NotificationListResponse, Notifications } from "./resources/notifications/notifications.mjs";
import { ProfileCreateParams, ProfileCreateResponse, ProfileReplaceParams, ProfileReplaceResponse, ProfileRetrieveResponse, ProfileUpdateParams, Profiles, SubscribeToListsRequestItem } from "./resources/profiles/profiles.mjs";
import { BaseTemplateTenantAssociation, DefaultPreferences, SubscriptionTopicNew, Tenant, TenantAssociation, TenantListParams, TenantListResponse, TenantListUsersParams, TenantListUsersResponse, TenantUpdateParams, Tenants } from "./resources/tenants/tenants.mjs";
import { Users } from "./resources/users/users.mjs";
import { type Fetch } from "./internal/builtin-types.mjs";
import { HeadersLike, NullableHeaders } from "./internal/headers.mjs";
import { FinalRequestOptions, RequestOptions } from "./internal/request-options.mjs";
import { type LogLevel, type Logger } from "./internal/utils/log.mjs";
export interface ClientOptions {
    /**
     * Defaults to process.env['COURIER_API_KEY'].
     */
    apiKey?: string | undefined;
    /**
     * Override the default base URL for the API, e.g., "https://api.example.com/v2/"
     *
     * Defaults to process.env['COURIER_BASE_URL'].
     */
    baseURL?: string | null | undefined;
    /**
     * The maximum amount of time (in milliseconds) that the client should wait for a response
     * from the server before timing out a single request.
     *
     * Note that request timeouts are retried by default, so in a worst-case scenario you may wait
     * much longer than this timeout before the promise succeeds or fails.
     *
     * @unit milliseconds
     */
    timeout?: number | undefined;
    /**
     * Additional `RequestInit` options to be passed to `fetch` calls.
     * Properties will be overridden by per-request `fetchOptions`.
     */
    fetchOptions?: MergedRequestInit | undefined;
    /**
     * Specify a custom `fetch` function implementation.
     *
     * If not provided, we expect that `fetch` is defined globally.
     */
    fetch?: Fetch | undefined;
    /**
     * The maximum number of times that the client will retry a request in case of a
     * temporary failure, like a network error or a 5XX error from the server.
     *
     * @default 2
     */
    maxRetries?: number | undefined;
    /**
     * Default headers to include with every request to the API.
     *
     * These can be removed in individual requests by explicitly setting the
     * header to `null` in request options.
     */
    defaultHeaders?: HeadersLike | undefined;
    /**
     * Default query parameters to include with every request to the API.
     *
     * These can be removed in individual requests by explicitly setting the
     * param to `undefined` in request options.
     */
    defaultQuery?: Record<string, string | undefined> | undefined;
    /**
     * Set the log level.
     *
     * Defaults to process.env['COURIER_LOG'] or 'warn' if it isn't set.
     */
    logLevel?: LogLevel | undefined;
    /**
     * Set the logger.
     *
     * Defaults to globalThis.console.
     */
    logger?: Logger | undefined;
}
/**
 * API Client for interfacing with the Courier API.
 */
export declare class Courier {
    #private;
    apiKey: string;
    baseURL: string;
    maxRetries: number;
    timeout: number;
    logger: Logger | undefined;
    logLevel: LogLevel | undefined;
    fetchOptions: MergedRequestInit | undefined;
    private fetch;
    protected idempotencyHeader?: string;
    private _options;
    /**
     * API Client for interfacing with the Courier API.
     *
     * @param {string | undefined} [opts.apiKey=process.env['COURIER_API_KEY'] ?? undefined]
     * @param {string} [opts.baseURL=process.env['COURIER_BASE_URL'] ?? https://api.courier.com] - Override the default base URL for the API.
     * @param {number} [opts.timeout=1 minute] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.
     * @param {MergedRequestInit} [opts.fetchOptions] - Additional `RequestInit` options to be passed to `fetch` calls.
     * @param {Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.
     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.
     * @param {HeadersLike} opts.defaultHeaders - Default headers to include with every request to the API.
     * @param {Record<string, string | undefined>} opts.defaultQuery - Default query parameters to include with every request to the API.
     */
    constructor({ baseURL, apiKey, ...opts }?: ClientOptions);
    /**
     * Create a new client instance re-using the same options given to the current client with optional overriding.
     */
    withOptions(options: Partial<ClientOptions>): this;
    protected defaultQuery(): Record<string, string | undefined> | undefined;
    protected validateHeaders({ values, nulls }: NullableHeaders): void;
    protected authHeaders(opts: FinalRequestOptions): Promise<NullableHeaders | undefined>;
    protected stringifyQuery(query: Record<string, unknown>): string;
    private getUserAgent;
    protected defaultIdempotencyKey(): string;
    protected makeStatusError(status: number, error: Object, message: string | undefined, headers: Headers): Errors.APIError;
    buildURL(path: string, query: Record<string, unknown> | null | undefined, defaultBaseURL?: string | undefined): string;
    /**
     * Used as a callback for mutating the given `FinalRequestOptions` object.
     */
    protected prepareOptions(options: FinalRequestOptions): Promise<void>;
    /**
     * Used as a callback for mutating the given `RequestInit` object.
     *
     * This is useful for cases where you want to add certain headers based off of
     * the request properties, e.g. `method` or `url`.
     */
    protected prepareRequest(request: RequestInit, { url, options }: {
        url: string;
        options: FinalRequestOptions;
    }): Promise<void>;
    get<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp>;
    post<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp>;
    patch<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp>;
    put<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp>;
    delete<Rsp>(path: string, opts?: PromiseOrValue<RequestOptions>): APIPromise<Rsp>;
    private methodRequest;
    request<Rsp>(options: PromiseOrValue<FinalRequestOptions>, remainingRetries?: number | null): APIPromise<Rsp>;
    private makeRequest;
    fetchWithTimeout(url: RequestInfo, init: RequestInit | undefined, ms: number, controller: AbortController): Promise<Response>;
    private shouldRetry;
    private retryRequest;
    private calculateDefaultRetryTimeoutMillis;
    buildRequest(inputOptions: FinalRequestOptions, { retryCount }?: {
        retryCount?: number;
    }): Promise<{
        req: FinalizedRequestInit;
        url: string;
        timeout: number;
    }>;
    private buildHeaders;
    private buildBody;
    static Courier: typeof Courier;
    static DEFAULT_TIMEOUT: number;
    static CourierError: typeof Errors.CourierError;
    static APIError: typeof Errors.APIError;
    static APIConnectionError: typeof Errors.APIConnectionError;
    static APIConnectionTimeoutError: typeof Errors.APIConnectionTimeoutError;
    static APIUserAbortError: typeof Errors.APIUserAbortError;
    static NotFoundError: typeof Errors.NotFoundError;
    static ConflictError: typeof Errors.ConflictError;
    static RateLimitError: typeof Errors.RateLimitError;
    static BadRequestError: typeof Errors.BadRequestError;
    static AuthenticationError: typeof Errors.AuthenticationError;
    static InternalServerError: typeof Errors.InternalServerError;
    static PermissionDeniedError: typeof Errors.PermissionDeniedError;
    static UnprocessableEntityError: typeof Errors.UnprocessableEntityError;
    static toFile: typeof Uploads.toFile;
    send: API.Send;
    audiences: API.Audiences;
    auditEvents: API.AuditEvents;
    auth: API.Auth;
    automations: API.Automations;
    brands: API.Brands;
    bulk: API.Bulk;
    inbound: API.Inbound;
    lists: API.Lists;
    messages: API.Messages;
    requests: API.Requests;
    notifications: API.Notifications;
    profiles: API.Profiles;
    tenants: API.Tenants;
    translations: API.Translations;
    users: API.Users;
}
export declare namespace Courier {
    export type RequestOptions = Opts.RequestOptions;
    export { Send as Send, type SendMessageResponse as SendMessageResponse, type SendMessageParams as SendMessageParams, };
    export { Audiences as Audiences, type Audience as Audience, type Filter as Filter, type FilterConfig as FilterConfig, type AudienceUpdateResponse as AudienceUpdateResponse, type AudienceListResponse as AudienceListResponse, type AudienceListMembersResponse as AudienceListMembersResponse, type AudienceUpdateParams as AudienceUpdateParams, type AudienceListParams as AudienceListParams, type AudienceListMembersParams as AudienceListMembersParams, };
    export { AuditEvents as AuditEvents, type AuditEvent as AuditEvent, type AuditEventListResponse as AuditEventListResponse, type AuditEventListParams as AuditEventListParams, };
    export { Auth as Auth, type AuthIssueTokenResponse as AuthIssueTokenResponse, type AuthIssueTokenParams as AuthIssueTokenParams, };
    export { Automations as Automations, type AutomationInvokeResponse as AutomationInvokeResponse };
    export { Brands as Brands, type Brand as Brand, type BrandColors as BrandColors, type BrandSettings as BrandSettings, type BrandSettingsEmail as BrandSettingsEmail, type BrandSettingsInApp as BrandSettingsInApp, type BrandSnippet as BrandSnippet, type BrandSnippets as BrandSnippets, type BrandTemplate as BrandTemplate, type EmailFooter as EmailFooter, type EmailHead as EmailHead, type EmailHeader as EmailHeader, type Icons as Icons, type Logo as Logo, type WidgetBackground as WidgetBackground, type BrandListResponse as BrandListResponse, type BrandCreateParams as BrandCreateParams, type BrandUpdateParams as BrandUpdateParams, type BrandListParams as BrandListParams, };
    export { Bulk as Bulk, type InboundBulkMessage as InboundBulkMessage, type InboundBulkMessageUser as InboundBulkMessageUser, type BulkCreateJobResponse as BulkCreateJobResponse, type BulkListUsersResponse as BulkListUsersResponse, type BulkRetrieveJobResponse as BulkRetrieveJobResponse, type BulkAddUsersParams as BulkAddUsersParams, type BulkCreateJobParams as BulkCreateJobParams, type BulkListUsersParams as BulkListUsersParams, };
    export { Inbound as Inbound, type InboundTrackEventResponse as InboundTrackEventResponse, type InboundTrackEventParams as InboundTrackEventParams, };
    export { Lists as Lists, type PutSubscriptionsRecipient as PutSubscriptionsRecipient, type SubscriptionList as SubscriptionList, type ListListResponse as ListListResponse, type ListUpdateParams as ListUpdateParams, type ListListParams as ListListParams, type ListRestoreParams as ListRestoreParams, };
    export { Messages as Messages, type MessageDetails as MessageDetails, type MessageRetrieveResponse as MessageRetrieveResponse, type MessageListResponse as MessageListResponse, type MessageContentResponse as MessageContentResponse, type MessageHistoryResponse as MessageHistoryResponse, type MessageListParams as MessageListParams, type MessageHistoryParams as MessageHistoryParams, };
    export { Requests as Requests };
    export { Notifications as Notifications, type BaseCheck as BaseCheck, type Check as Check, type NotificationGetContent as NotificationGetContent, type NotificationListResponse as NotificationListResponse, type NotificationListParams as NotificationListParams, };
    export { Profiles as Profiles, type SubscribeToListsRequestItem as SubscribeToListsRequestItem, type ProfileCreateResponse as ProfileCreateResponse, type ProfileRetrieveResponse as ProfileRetrieveResponse, type ProfileReplaceResponse as ProfileReplaceResponse, type ProfileCreateParams as ProfileCreateParams, type ProfileUpdateParams as ProfileUpdateParams, type ProfileReplaceParams as ProfileReplaceParams, };
    export { Tenants as Tenants, type BaseTemplateTenantAssociation as BaseTemplateTenantAssociation, type DefaultPreferences as DefaultPreferences, type SubscriptionTopicNew as SubscriptionTopicNew, type Tenant as Tenant, type TenantAssociation as TenantAssociation, type TenantListResponse as TenantListResponse, type TenantListUsersResponse as TenantListUsersResponse, type TenantUpdateParams as TenantUpdateParams, type TenantListParams as TenantListParams, type TenantListUsersParams as TenantListUsersParams, };
    export { Translations as Translations, type TranslationRetrieveResponse as TranslationRetrieveResponse, type TranslationRetrieveParams as TranslationRetrieveParams, type TranslationUpdateParams as TranslationUpdateParams, };
    export { Users as Users };
    export type Alignment = API.Alignment;
    export type ChannelClassification = API.ChannelClassification;
    export type ChannelPreference = API.ChannelPreference;
    export type ElementalActionNodeWithType = API.ElementalActionNodeWithType;
    export type ElementalBaseNode = API.ElementalBaseNode;
    export type ElementalChannelNode = API.ElementalChannelNode;
    export type ElementalChannelNodeWithType = API.ElementalChannelNodeWithType;
    export type ElementalContent = API.ElementalContent;
    export type ElementalContentSugar = API.ElementalContentSugar;
    export type ElementalDividerNodeWithType = API.ElementalDividerNodeWithType;
    export type ElementalImageNodeWithType = API.ElementalImageNodeWithType;
    export type ElementalMetaNodeWithType = API.ElementalMetaNodeWithType;
    export type ElementalNode = API.ElementalNode;
    export type ElementalQuoteNodeWithType = API.ElementalQuoteNodeWithType;
    export type ElementalTextNodeWithType = API.ElementalTextNodeWithType;
    export type MessageContext = API.MessageContext;
    export type MessageRouting = API.MessageRouting;
    export type MessageRoutingChannel = API.MessageRoutingChannel;
    export type NotificationPreferenceDetails = API.NotificationPreferenceDetails;
    export type Paging = API.Paging;
    export type Preference = API.Preference;
    export type PreferenceStatus = API.PreferenceStatus;
    export type Recipient = API.Recipient;
    export type RecipientPreferences = API.RecipientPreferences;
    export type Rule = API.Rule;
    export type TextStyle = API.TextStyle;
    export type UserRecipient = API.UserRecipient;
    export type Utm = API.Utm;
}
//# sourceMappingURL=client.d.mts.map